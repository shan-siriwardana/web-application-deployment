pipeline{
  agent any
  
  parameters {
    choice(choices: ['provision', 'destroy'], description: 'Select Action', name: 'action')
  }
  
  environment{
    action="${action}"
  }

  stages {
  
    stage('Call Terraform') {
      steps {
        println "action: ${action} infrastructure"
        println "workspace: ${WORKSPACE}"
      }
    }
    
  }
  
  post { 
    always { 
      println "cleanWs"
      //cleanWs()      
    }
  }
}
